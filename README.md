# Data Quality Watchtower

A comprehensive data quality monitoring platform built with Django.

## Deployment to Render (Two Services)

This application is configured for deployment to Render with two separate services:
1. Web Service (Django application)
2. Database Service (PostgreSQL)

### Prerequisites

1. A [Render](https://render.com/) account
2. This repository pushed to GitHub/GitLab

### Deployment Steps

1. **Fork this repository** to your GitHub/GitLab account

2. **Login to Render** and connect your GitHub/GitLab account

3. **Deploy the Database Service**:
   - Click "New+" → "Database"
   - Select "PostgreSQL"
   - Name: `data-quality-db`
   - Plan: Free
   - Database Name: `data_quality_watchtower_db`
   - Click "Create Database"

4. **Deploy the Web Service**:
   - Click "New+" → "Web Service"
   - Connect to your forked repository
   - Set the following configuration:
     - Name: `data-quality-watchtower`
     - Runtime: `Python 3`
     - Build Command: `./build.sh`
     - Start Command: `gunicorn data_quality_watchtower.wsgi:application`
     - Plan: Free
     - Add Environment Variables:
       - `SECRET_KEY` - Auto-generated by Render
       - `DEBUG` - Set to `False`
       - `RENDER_EXTERNAL_HOSTNAME` - Will be set automatically

5. **Link Services**:
   - In the Web Service settings, add the database as a dependency
   - The `DATABASE_URL` environment variable will be automatically populated

6. **Deploy**:
   - Both services will deploy automatically
   - The first deployment may take 10-15 minutes

### Post-Deployment Access

1. **Application URL**: 
   - Visit your Web Service URL
   - The application will be available at `https://your-web-service-name.onrender.com`

2. **Admin Access**:
   - Login at `/admin/` with credentials:
     - Username: `admin`
     - Password: `admin`
   - **Important**: Change the admin password immediately after first login!

### Key Features

- Dataset management and profiling
- Automated rule generation and execution
- Real-time incident detection and reporting
- Interactive dashboards with quality metrics
- Notification system for data quality events
- Audit trail for all data operations

### Troubleshooting

If you encounter issues:

1. **Check Logs**: View deployment logs in Render dashboard for both services
2. **Database Connection**: Ensure the database service is running and linked properly
3. **Environment Variables**: Verify all required variables are set correctly
4. **Migrations**: Check if database migrations completed successfully

## Local Development

### Prerequisites

- Python 3.10+
- pip
- Virtual environment tool (venv or virtualenv)

### Setup

1. **Clone the repository**:
   ```bash
   git clone <repository-url>
   cd data-quality-watchtower
   ```

2. **Create a virtual environment**:
   ```bash
   python -m venv .venv
   source .venv/bin/activate  # On Windows: .venv\Scripts\activate
   ```

3. **Install dependencies**:
   ```bash
   pip install -r requirements.txt
   ```

4. **Run migrations**:
   ```bash
   python manage.py migrate
   ```

5. **Create a superuser**:
   ```bash
   python manage.py createsuperuser
   ```

6. **Collect static files**:
   ```bash
   python manage.py collectstatic
   ```

7. **Start the development server**:
   ```bash
   python manage.py runserver
   ```

8. **Access the application**:
   - Open your browser and go to `http://127.0.0.1:8000`

## Project Structure

```
data-quality-watchtower/
├── apps/                 # Django applications
│   ├── datasets/         # Dataset management
│   ├── rules/            # Data quality rules
│   ├── incidents/        # Incident tracking
│   ├── dashboard/        # Dashboard and analytics
│   ├── api/              # API endpoints
│   ├── audit/            # Audit logging
│   ├── users/            # User management
│   └── notifications/    # Notification system
├── data_quality_watchtower/  # Main project settings
├── static/               # Static files (CSS, JS, images)
├── templates/            # HTML templates
├── media/                # Uploaded files
├── requirements.txt      # Python dependencies
└── manage.py            # Django management script
```

## Key Features

### Dataset Management
- Upload and manage datasets in various formats
- Automatic schema detection and profiling
- Quality metrics and statistics

### Rule Engine
- Define custom data quality rules
- Automated rule generation based on data patterns
- Schedule rule executions

### Incident Tracking
- Automatic incident creation for rule violations
- Severity classification and SLA tracking
- Evidence collection and reporting

### Dashboards
- Real-time quality metrics visualization
- Trend analysis and historical data
- Customizable widgets and filters

### Notifications
- Email and in-app notifications
- Configurable notification preferences
- Real-time alerting

## Troubleshooting

### Common Issues

1. **Database connection errors**:
   - Ensure environment variables are correctly set
   - Check database credentials and connectivity

2. **Static files not loading**:
   - Run `python manage.py collectstatic`
   - Check STATIC_ROOT and STATIC_URL settings

3. **Permission denied errors**:
   - Ensure proper file permissions
   - Check user roles and permissions in Django admin

### Getting Help

- Check the logs in Render dashboard
- Review Django documentation
- Contact the development team

## License

This project is licensed under the MIT License - see the LICENSE file for details.